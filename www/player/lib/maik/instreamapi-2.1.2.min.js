(function(){var m=void 0,n=!0,r=null,s=!1,aa=101,ca=102,da=104,fa=100,ia=101,ja=201,ka=202,la=203,ma=204,na=205,qa=301,ra=302,sa=303,ta=304,ua=401,va=402,wa=950,xa=951,ya=952,za=953,Aa=954,Ba=955,Ca=956,Da=957,Ea=958,Fa=959,La=961,Ma=962,Na=963,Oa=964,Pa=965,Qa=966,Ra=967,Sa=968,Ta=972,Ua=973,Za=974,$a=975,ab=976,bb=977,cb=978,db=979,eb=980,fb=981,gb=982,jb={Ab:0,method:"AdControl",Bb:"NonLinear VPAID detected."};function kb(){}kb.prototype.log=function(){return r};window.InstreamapiDebug=kb;var lb=1010,mb=1020,nb=1030,ob=1040,pb=1100,qb=2010,rb=2020,sb=3010,tb=3020,ub=3030,vb=3035,wb=4010,xb=4020,yb=4030,zb=4040,Ab=4050,Bb=5010,Cb=5020,Db=6010,Eb=6020,Fb=6030,Gb=6040,Hb=6050,Ib=6060,Jb=6070,Kb=1010,Lb=1020,Mb=1030,Nb=1040,Ob=1050,Pb=1060,Qb=1070,Rb=2020,Sb=310,Tb=406,Ub=901;var Vb={mp4:{typeExtension:"mp4",typeString:"video/mp4",O:"video/mp4|video/x-mp4"},ogv:{typeExtension:"ogv",typeString:"video/ogg",O:"video/ogg"},webm:{typeExtension:"webm",typeString:"video/webm",O:"video/webm"}},Wb="application/javascript|application/x-javascript|text/javascript",D=navigator.userAgent,Xb=/MSIE/.test(D),H=/android/i.test(D)&&/mobile/i.test(D)&&!(/chrome/i.test(D)&&/Mobile Safari/.test(D)),Yb=H||/iPad/i.test(D),Zb=/TV/.test(D),$b=/iP(hone|ad|od)/i.test(D),ac=H||/iP(hone|od)/i.test(D);
function bc(a){return"[object Function]"===Object.prototype.toString.call(a)}function I(a){return""!=a&&a!=r&&a!=m}function O(a,c){if(a)for(var b in c)a.style[b]=c[b]}function cc(a){return a.replace(RegExp("[\\[%]+(timestamp|cache_?buster|rand(om|num))[\\]%]+","gi"),Math.round(1E13*Math.random()))}
function V(){var a=[];this.a=function(c,b){a.push({event:c,B:b})};this.b=function(c){for(var b=0;b<a.length;b++)a[b].event==c&&a.splice(b,1)};this.Fb=function(c,b){for(var f=0;f<a.length;f++){var g=b?a[f].B==b:n;a[f].event==c&&g&&a.splice(f,1)}};this.c=function(c,b){for(var f=0;f<a.length;f++){var g=a[f];g.event==c&&"function"==typeof g.B&&g.B({type:c,info:b})}};this.Cb=function(c,b){for(var f=0;f<a.length;f++){var g=a[f];g.event==c&&"function"==typeof g.B&&g.B(b)}}}
function dc(){var a=[];this.on=function(c,b,f){for(var b=b.split(","),g=0;g<b.length;g++)"function"==typeof c.addEventListener?c.addEventListener(b[g],f,s):"function"==typeof c.attachEvent&&c.attachEvent("on"+b[g],f),a.push({target:c,oa:b[g],Pa:f})};this.off=function(c,b,f){b=b.split(",");if("all"==b[0])for(var g=0;g<a.length;g++)a[g].target==c&&a[g].Pa==f&&("function"==typeof c.removeEventListener?c.removeEventListener(a[g].oa,f):"function"==typeof c.detachEvent&&c.detachEvent("on"+a[g].oa,f),a.splice(g,
1));else{for(g=0;g<b.length;g++)"function"==typeof c.removeEventListener?c.removeEventListener(b[g],f):"function"==typeof c.detachEvent&&c.detachEvent("on"+b[g],f);a=[]}};this.Eb=function(){X.log(902,a)}}function Z(a,c){var b=document.createElement(a);if(c){"id"in c||b.setAttribute("id",ec());for(var f in c)b.setAttribute(f,c[f])}return b}
function ec(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=16*Math.random()|0;return("x"==a?c:c&3|8).toString(16)}).toUpperCase()}function fc(a){for(var c=0,b=a.split(".")[0],b=a.split(":").reverse(),a=0;a<b.length;a++)c+=parseInt(b[a]*Math.pow(60,a),10);return c}function gc(a){if(!a||"object"!=typeof a)return a;var c=new a.constructor,b;for(b in a)a.hasOwnProperty(b)&&(c[b]=gc(a[b]));return c}
function hc(a,c){if(a!=r&&a==a.window){var b=a.document.documentElement["client"+c],f=a.document.body;return"CSS1Compat"===a.document.compatMode&&b||f&&f["client"+c]||b}return 9===a.nodeType?Math.max(a.documentElement["client"+c],a.body["scroll"+c],a.documentElement["scroll"+c],a.body["offset"+c],a.documentElement["offset"+c]):parseFloat(window.getComputedStyle(a,r).getPropertyValue(c.toLowerCase()))};var ic={},jc=[],kc=[],X=new kb;
window.$ad=window.instreamapi=function(a,c){function b(a,b,c){for(var d=r,g=0;g<jc.length;g++)jc[g].m==c&&(d=g);d!==r&&(jc[d].N.destroy(),jc.splice(d,1));b=gc(b);if(b.externalConfigXml){var j=b.onConfigLoaded;b.onConfigLoaded=function(a){for(var e,b,c=0;c<kc.length;c++)if(kc[c].wa===a){e=kc[c];b=c;break}e&&(c=new lc(e.M,e.wa),f=e={m:e.m,N:c},jc.push(e),kc.splice(b,1));j&&j(a)};b=new mc(b);kc.push({wa:b,M:a,m:c})}else b=new mc(b),a=new lc(a,b),f=c={m:c,N:a},jc.push(c)}var f,g;g=new nc;if(c)if(!a||
"*"==a){g=g.getAll();for(j=0;j<g.length;j++)b(g[j].M,c,g[j].m)}else g=g.pa(a),b(g.M,c,g.m);else for(var j=0;j<jc.length;j++)jc[j].m.id==a&&(f=jc[j]);g=f&&f.N?f.N:m;return g};function oc(a){function c(a){var b=0,c=0;try{if(a.offsetParent){b=a.offsetLeft;for(c=a.offsetTop;(a=a.offsetParent)&&"BODY"!=a.tagName.toUpperCase();)b+=a.offsetLeft,c+=a.offsetTop}}catch(f){}return{left:b,top:c}}var b={f:{width:0,height:0,left:0,top:0},d:{width:0,height:0,left:0,top:0},t:s,z:0,da:0,ea:0,ca:0},f=[],g="ois_"+ec().split("-").join(""),j,i;this.sa=function(){"undefined"==typeof i&&(i=window.self===window.top?window.self:window.top);if("undefined"==typeof j)try{j=i.document}catch(h){j=
window.document}b.f={width:j.documentElement.clientWidth||i.innerWidth||j.body.clientWidth,height:j.documentElement.clientHeight||i.innerHeight||j.body.clientHeight,left:i.scrollX||j.documentElement.scrollLeft||j.body.scrollLeft,top:i.scrollY||j.documentElement.scrollTop||j.body.scrollTop};var l=c(a);if(window.self!==window.top)try{var d;a:{var p=top.document.getElementsByTagName("iframe"),B;for(B in p)try{if(p[B].contentWindow[g]){d=p[B];break a}}catch(C){}d=m}var e=c(d);l.left+=e.left;l.top+=e.top}catch(z){}b.d=
{width:a.offsetWidth,height:a.offsetHeight,left:l.left,top:l.top};b.f.left>=b.d.left+b.d.width||b.f.top>=b.d.top+b.d.height||b.d.left>=b.f.left+b.f.width||b.d.top>=b.f.top+b.f.height?(b.z=0,b.t=s):0>=b.d.width||0>=b.d.height?(b.z=0,b.t=s):b.d.left>=b.f.left&&b.d.top>=b.f.top&&b.d.left+b.d.width<=b.f.left+b.f.width&&b.d.top+b.d.height<=b.f.top+b.f.height?(b.z=100,b.t=n):(l=b.d.width,d=b.d.height,b.d.left<b.f.left?l=b.d.width-(b.f.left-b.d.left):b.d.left+b.d.width>b.f.width+b.f.left&&(l=b.f.width-(b.d.left-
b.f.left)),b.d.top<b.f.top?d=b.d.height-(b.f.top-b.d.top):b.d.top+b.d.height>b.f.height+b.f.top&&(d=b.f.height-(b.d.top-b.f.top)),b.z=Math.floor(100*(l*d/(b.d.width*b.d.height))),0<b.z&&(b.t=n));b.t==n?(b.da+=1,b.ea=1):b.ea=0;b.ca+=1;f.push(b.t);return b};window[g]=1};function lc(a,c){function b(){v=a.h("currentSrc");t=a.h("currentSrcType");if(I(a.h("currentSrc"))){var e=c,b=a.h("currentSrc"),d="";/\?/.test(b)&&(b=b.split("?"),b=b[0]);var f=b.split("."),f=f[f.length-1];["mp4","ogv","webm"].forEach(function(a){f==a&&(d=a)});e.X=d}X.log(ia,v)}function f(){return!v?n:a.h("currentSrc")==v}function g(e){e="object"===typeof e?e.info:e;e!==s&&(e=n);X.log(fa,e);a.setControls(e)}function j(d){"timeupdate"!=d.type&&X.log(aa,d.type);if(h()===n)switch(d.type){case "play":var C=
z.K(0);C&&(H||a.l(),b(),e.startAd(C));L===n&&(L=s,b(),h(s))}switch(d.type){case "error":X.log(ca,d.type,a.h("src"));e&&((!f()||e.u())&&!e.u())&&e.Ca();break;case "timeupdate":d=a.h("duration");C=a.h("currentTime");if(!h()&&(C>c.overlayDelay&&C<d-5&&f())&&(z.ib(d),d=z.K(C)))"fixedroll"==d.type&&(b(),e.startAd(d)),"overlay"==d.type&&(!ac||a.L().getAttribute("webkit-playsinline")!==r)&&e.startAd(d);d=a.h("duration");C=a.h("currentTime");C<d&&(C>d-1&&f()&&H)&&(z.Ma(d)?(x=1,(d=z.K(d))?(b(),e.startAd(d)):
(e.u()&&e.Q(),l())):A=n);break;case "ended":!H&&f()&&(k=n,(d=z.K(a.h("duration")))?(b(),e.startAd(d)):(e.u()&&e.Q(),l()),a.l());if(f()&&H&&1==x)x=2;else if(f()&&H&&2==x||A)l(),x=3;break;case nb:d=a.h("currentTime");0!=d&&f()&&(w=Number(Number(d).toFixed(1)));i(s);g(s);h(n);break;case mb:i()?k&&l():(a.va({url:v,type:t},w!=r&&0!=w&&!k?w:s,k),k&&!H&&l(),i(n),g(n),h(s))}}function i(a){if(a!=m)B=a;else return B}function h(a){if(a!=m)p=a;else return p}function l(){X.log(da);a.l();if(c.onFinish)c.onFinish();
e.b(lb);e.b(mb);e.b(nb);e.b(ob);e.b(pb);e.b("START_LINEAR",d);e.b("START_NONLINEAR",d);e.b("END_AD",d);a.b("CONTROLS_ON",d);a.b("CONTROLS_OFF",d);a.off("play,pause,ended,timeupdate,volumechange,error,durationchange",j)}function d(a){if(C[a.type])C[a.type](a);"END_AD"===a.type&&z.Ta()&&d({type:"BLOCK_DONE"})}var p=n,B=s,C={},e,z,v,t,w=r,k=s,x=s,A=s,L=n;this.destroy=function(){e&&(X.log(105),f()&&!e.u()?X.log(106):(e.u()?X.log(107):X.log(108),e.Q()),l())};this.start=function(){a.C()};this.onAdLoadCompleteCallback=
function(a){e&&e.a(pb,bc(a)?a:function(){})};this.Gb=function(a){C=a};this.Ka=function(){return a.Ka()};this.pauseAd=function(){e.pauseAd()};this.resumeAd=function(){e.resumeAd()};X.log(109,"2.1.2");z=new pc(c);a.on("play,pause,ended,timeupdate,volumechange,error,durationchange",j);e=new qc(a,c);e.a(lb,g);e.a(mb,j);e.a(nb,j);e.a(ob,function(a){X.log(103);if(c.onCompanion)c.onCompanion(a.info.ga,a.info.Aa);c.companionCallback&&c.companionCallback(a.info.ga,a.info.Aa)});e.a("START_LINEAR",d);
e.a("START_NONLINEAR",d);e.a("END_AD",d);a.a("CONTROLS_ON",d);a.a("CONTROLS_OFF",d)};function mc(a){function c(){for(var a in l)"undefined"!==typeof d[a]&&(d[a]=b(l[a],d.I[a]))}function b(a,c){switch(typeof c){case "number":return!a||isNaN(parseInt(a,10))?c:parseInt(a,10);case "object":for(var d in c)a[d]=a[d]?b(a[d],c[d]):c[d];break;default:if(a===m||a===r)return c}return a}function f(){4==p.readyState&&(200==p.status?g():i())}function g(){var a=B.lb(p.responseText.toString()).OIS;d.ab(a);i()}function j(){i()}function i(){if(d.onConfigLoaded)d.onConfigLoaded(d)}var h={key:"",preroll:"",
midroll:"",postroll:"",overlay:"",sb:"",overlayDelay:5,overlayDuration:15,minDurationForMidrolls:100,customControls:s,adCountdownText:"",adCountdownPosition:"top",clickThroughDialogText:{query:"Open Advertiser Website?",reject:"Cancel",accept:"Open"},clickThroughDialogEnabled:n,styles:{colorScheme:{backgroundColor:"rgba(0,0,0,.8)",color:"#ffffff"},fontStyle:{textAlign:"center",fontFamily:"Arial,sans,Verdana",fontSize:"12px",lineHeight:"20px"},dialogBox:{width:"200px",padding:"7px",border:"1px solid #ffffff",
Fa:"3px"},buttonStyle:{width:"80px",height:"25px",margin:"2px",marginTop:"9px",border:"1px solid #ffffff",Fa:"3px",lineHeight:"0px"}},onCompanion:r,companionCallback:r,onTrack:r,onFinish:r,vpaidSingleVideoSlotMode:s,mb:"",vastExtensions:{}},l=a,d=this;d.I=h;var p,B=new rc;this.tb=function(a){return a?d[a]:d};this.ab=function(a){l=a;c()};this.ub=function(){return B.ta(l)};this.vb=function(a){return a?h[a]:h};this.Ib=function(a){d.id=a};this.Ua=function(a){a=cc(a);p=window.XDomainRequest?new window.XDomainRequest:
new XMLHttpRequest;window.XDomainRequest?(p.onload=g,p.onerror=j,p.open("GET",a)):(p.open("GET",a,n),p.onreadystatechange=f,p.setRequestHeader("X-Requested-With","XMLHttpRequest"));p.send()};this.onConfigLoaded=r;this.id="test";d.I=h;for(var C in d.I)d[C]=d.I[C];c();a.externalConfigXml&&(d.onConfigLoaded=a.onConfigLoaded,d.Ua(a.externalConfigXml))}
function rc(){function a(a){var b=a.localName;b==r&&(b=a.baseName);if(b==r||""==b)b=a.nodeName;return b}function c(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):a}function b(c){if(c.nodeType==B.DOCUMENT_NODE){var e={},d=c.firstChild,f=a(d);e[f]=b(d);return e}if(c.nodeType==B.ELEMENT_NODE){for(var e={F:0},h=c.childNodes,g=0;g<h.length;g++)if(d=h.item(g),f=a(d),e.F++,e[f]==r)e[f]=b(d),
e[f+"_asArray"]=Array(1),e[f+"_asArray"][0]=e[f];else{if(e[f]!=r&&!(e[f]instanceof Array)){var k=e[f];e[f]=[];e[f][0]=k;e[f+"_asArray"]=e[f]}for(k=0;e[f][k]!=r;)k++;e[f][k]=b(d)}for(d=0;d<c.attributes.length;d++)f=c.attributes.item(d),e.F++,e["_"+f.name]=f.value;c=c.prefix;c!=r&&""!=c&&(e.F++,e.G=c);1==e.F&&e["#text"]!=r&&(e=e["#text"]);e["#text"]!=r&&(e.k=e["#text"],p&&(e.k=e.k.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,
"/")),delete e["#text"],delete e["#text_asArray"]);e["#cdata-section"]!=r&&(e.r=e["#cdata-section"],delete e["#cdata-section"],delete e["#cdata-section_asArray"]);if(e.k!=r||e.r!=r)e.toString=function(){return(this.k!=r?this.k:"")+(this.r!=r?this.r:"")};return e}if(c.nodeType==B.TEXT_NODE||c.nodeType==B.CDATA_SECTION_NODE)return c.nodeValue}function f(a,b,c,d){b="<"+(a!=r&&a.G!=r?a.G+":":"")+b;if(c!=r)for(var f=0;f<c.length;f++)var h=c[f],b=b+(" "+h.substr(1)+"='"+a[h]+"'");return d?b+"/>":b+">"}
function g(a,b){return"</"+(a.G!=r?a.G+":":"")+b+">"}function j(a,b){var c=b.toString();return-1!==c.indexOf("_asArray",c.length-8)||0==b.toString().indexOf("_")||a[b]instanceof Function?n:s}function i(a){var b=0;if(a instanceof Object)for(var c in a)j(a,c)||b++;return b}function h(a){var b=[];if(a instanceof Object)for(var c in a)-1==c.toString().indexOf("__")&&0==c.toString().indexOf("_")&&b.push(c);return b}function l(a){var b="";if(a instanceof Object){var d="";a.r!=r&&(d+="<![CDATA["+a.r+"]]\>");
a.k!=r&&(d=p?d+c(a.k):d+a.k);b+=d}else a!=r&&(b=p?b+c(a):b+a);return b}function d(a){var b="";if(0<i(a))for(var c in a)if(!j(a,c)){var v=a[c],t=h(v);if(v==r||v==m)b+=f(v,c,t,n);else if(v instanceof Object)if(v instanceof Array){var p=c,k="";if(0==v.length)k+=f(v,p,t,n);else for(t=0;t<v.length;t++)k+=f(v[t],p,h(v[t]),s),k+=d(v[t]),k+=g(v[t],p);b+=k}else 0<i(v)||v.k!=r||v.r!=r?(b+=f(v,c,t,s),b+=d(v),b+=g(v,c)):b+=f(v,c,t,n);else b+=f(v,c,t,s),b+=l(v),b+=g(v,c)}return b+=l(a)}var p=s,B={ELEMENT_NODE:1,
TEXT_NODE:3,CDATA_SECTION_NODE:4,DOCUMENT_NODE:9};this.xa=function(a){var b;window.DOMParser?b=(new window.DOMParser).parseFromString(a,"text/xml"):(0==a.indexOf("<?")&&(a=a.substr(a.indexOf("?>")+2)),b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a));return b};this.kb=function(a){return b(a)};this.lb=function(a){a=this.xa(a);return this.kb(a)};this.ta=function(a){return d(a)};this.zb=function(a){a=this.ta(a);return this.xa(a)};this.xb=function(){return"1.0.11"};this.rb=function(a){p=
a}};function nc(){this.pa=function(a){var a=document.getElementById(a),c=new sc(a);return{m:a,M:c}};this.getAll=function(){for(var a=document.getElementsByTagName("video"),c=[],b=0;b<a.length;b++)c.push(this.pa(a[b].id));return c}}
function sc(a){function c(b){"timeupdate"===b.type&&(B=n,clearTimeout(e),a.seekable.end(0)>=a.duration&&(6E3!==a.duration&&100!==a.duration)&&(X.log(803,a.duration),a.currentTime=a.duration,t.off(a,"timeupdate",c)));"ended"===b.type&&(X.log(804,b.type),f(d),a.load(),C(),a.play(),t.off(a,"ended",c),p=s)}function b(){try{a.seekable.end(0)>=l&&0<a.currentTime&&(a.currentTime=l,t.off(a,"timeupdate",b),X.log(801,l))}catch(c){X.log(802,c)}}function f(b){if(Xb)for(var c=a.getElementsByTagName("source"),
d=b.split("."),f,d=d[d.length-1],e=0;e<c.length;e++)if(f=c[e].src.split("."),f=f[f.length-1],f===d){c[e].src=b;return}a.src=b}function g(a,b){var c=r;window.getComputedStyle?c=parseFloat(window.getComputedStyle(a,"").getPropertyValue(b)):a.currentStyle&&(c=parseFloat(a.currentStyle[b]));return c?c.toFixed(2)+"px":r}function j(){w.c(Bb,m)}function i(){a.muted&&v===s?(v=n,w.c(Cb,n)):!a.muted&&v===n&&(v=s,w.c(Cb,s))}var h,l,d,p=s,B=s,C,e,z,v=s,t,w=new V;this.h=function(b){if(b)switch(b){case "currentTime":return a.currentTime;
case "duration":return a.duration;case "currentSrc":return a.currentSrc;case "currentSrcType":return"-unused-";case "src":return a.src;case "controls":return a.controls;case "paused":return a.paused;case "volume":return a.volume;default:return r}return{currentTime:a.currentTime,duration:a.duration,currentSrc:a.currentSrc,src:a.src,controls:a.controls,paused:a.paused,volume:a.volume}};this.g=function(b){if(b)switch(b){case "width":return hc(a,"Width");case "height":return hc(a,"Height");case "top":return a.offsetTop;
case "left":return a.offsetLeft;default:return r}return{width:hc(a,"Width"),height:hc(a,"Height"),top:a.offsetTop,left:a.offsetLeft}};this.l=function(){X.log(701,"Interface pauseVideo");a.pause()};this.C=function(){a.play()};this.va=function(h,i,j){X.log(806,h.url,i);d=h.url;z||(!a.width&&!a.style.width&&(a.style.width=g(a,"width")||"100%"),!a.height&&!a.style.height&&(a.style.height=g(a,"height")||"100%"),z=n);H&&p?(t.on(a,"timeupdate,ended",c),e=setTimeout(function(){B===s&&(X.log(805),t.off(a,
"timeupdate,ended",c),f(d),a.load(),C(),a.play(),p=s)},15E3)):(f(h.url),a.load(),i&&(l=i,t.on(a,"timeupdate",b)),j||a.play())};this.eb=function(a,b){X.log(807,a);p=a;C=b};this.setControls=function(b){a.controls=b};this.fa=function(b){a.parentNode.appendChild(b)};this.getParent=function(){return a.parentNode};this.bb=function(b){h=b;t.on(a,"mousedown",h)};this.Y=function(){t.off(a,"mousedown",h)};this.on=function(b,c){t.on(a,b,c)};this.off=function(b,c){t.off(a,b,c)};this.L=function(){return a};this.a=
w.a;this.b=w.b;this.destroy=function(){t.off(a,"mousedown",h);t.off(a,"timeupdate",b);t.off(a,"volumechange",i);t.off(a,"timeupdate,ended",c);t.off(window,"resize,orientationchange",j);t.off(document,"mozfullscreenchange,webkitfullscreenchange",j)};t=new dc;t.on(window,"resize,orientationchange",j);t.on(document,"mozfullscreenchange,webkitfullscreenchange",j);a.muted&&(v=n);t.on(a,"volumechange",i)};function tc(a){function c(a){p=a?new window[e](g,j,l,i):new ic[d](g,j,l,i);p.a("PAUSEAD",h);p.a("RESUMEAD",h);f.push(p)}var b,f=[],g,j,i,h,l,d,p,B,C,e,z;this.o=function(a,f,h){g=a;j=f;i=h;if(b&&!(1>b.length))for(a=0;a<b.length;a++)l=b[a],d=l.attributes[0].value,ic[d]?c(s):(B=j.j.vastExtensions,C=Object.getOwnPropertyNames(B),C.forEach(function(a){e=B[a].className||a;z=B[a].src;e===d&&(window[e]&&"function"===typeof window[e]?c(n):z&&(a=Z("script",{type:"text/javascript"}),document.head.appendChild(a),
a.addEventListener("load",function(){c(n)},s),a.src=z))}))};this.destroy=function(){if(0<f.length)for(var a=0;a<f.length;a++)f[a].destroy()};this.onResize=function(){if(0<f.length)for(var b=0;b<f.length;b++)f[b].setViewport({width:a.g("width"),height:a.g("height")})};this.setup=function(a,c){b=a;h=c}};function qc(a,c){function b(a){a="fixedroll"==a?k.U():k.V();if(a.StaticResource){var b=a.attributes.apiFramework?a.attributes.apiFramework:"UNKNOWN";if(-1!=Wb.indexOf(a.resourceAttributes.creativeType.toLowerCase())&&"VPAID"==b.toUpperCase())return X.log(jb),n}else if(a.attributes.apiFramework&&"VPAID"==a.attributes.apiFramework.toUpperCase())return n;return s}function f(a){t&&(a?t.ja():t.ka())}function g(){x&&x.resizeAd(a.g("width"),a.g("height"),m);u.onResize()}function j(b){k=new uc(c);w=new vc(a,
k);w.a(qb,h);w.a(rb,h);k.a(sb,h);k.a(tb,h);k.a(ub,h);k.a(vb,h);a.a(Cb,f);a.a(Bb,g);"fixedroll"==G?k.ua(K.urls.shift()):"overlay"==G&&b&&(E!=r?(E.nonLinearsTracker.impression=[],E.gotLinear=s,E.companion=[],E.companionsAsString=r,k.Va(E),E=r):k.ua(b))}function i(){h({type:"RESUMEAD"})}function h(f){X.log(ja,f.type);t||(t=new wc(a,c,k,G));switch(f.type){case "PAUSEAD":if(!M&&!F)break;q=n;a.l();a.on("play",i);z(lb,n);w.na();break;case "RESUMEAD":if(!M&&!F)break;q&&(q=s,a.off("play",i),w.Ia(),z(lb,s));
break;case sb:z(pb,k.e());0<k.e().companion.length&&z(ob,{ga:k.e().companion,Aa:k.e().companionsAsString});t=new wc(a,c,k,G);if("overlay"==G&&k.e().gotNonLinear){w.Sa();if((f=k.V())&&f.attributes&&f.attributes.minSuggestedDuration&&15<fc(f.attributes.minSuggestedDuration)&&fc(f.attributes.minSuggestedDuration)>c.overlayDuration)c.R=c.overlayDuration,c.overlayDuration=fc(f.attributes.minSuggestedDuration);w.cb(f);b("overlay")?d("overlay"):(clearInterval(T),M=s,T=setInterval(function(){w.Na();var a=
(new Date).getTime();R==m&&(R=a);a=parseInt(a-R,10)/1E3;k.za(a);a>parseInt(c.overlayDuration,10)&&e()},250),M=n,t.ia());z("START_NONLINEAR")}else"fixedroll"==G&&("false"==k.T().scalable&&parseInt(k.T().width,10)!=a.g("width")&&parseInt(k.T().height,10)!=a.g("height")?(X.log(ka,Tb),t!=r&&t.H(Tb),e()):(b("fixedroll")?(w.Ra(),d("fixedroll")):(z(nb),w.o(),w.P(),a.eb(P,p),a.va(k.U(),s),P=s,H||p()),u.o(w,k,t),z("START_LINEAR")));break;case qb:C();break;case tb:X.log(ka,f.info);z(pb,k.e());t!=r&&t.H(f.info);
e();break;case rb:X.log(la);t.Ga();"fixedroll"==G&&K.limit--;e();break;case ub:E=f.info;break;case vb:u.setup(f.info,h)}}function l(a){X.log(wa,a.type);switch(a.type){case Db:t!=r&&t.H(Ub);x.b(Db,l);x=r;e();break;case Eb:z(nb);break;case Fb:z(mb);break;case Gb:e();break;case Hb:x=r;e();break;case Ib:C(a.info)}}function d(b){x=new xc;x.a(Db,l);x.a(Eb,l);x.a(Fb,l);x.a(Gb,l);x.a(Hb,l);x.a(Ib,l);x.a(Jb,f);"overlay"==b?x.o(k.V(),w,a,t,k):x.Qa(k.U(),w,a,t,k)}function p(){clearInterval(A);F=s;a.on("ended",
B);A=setInterval(function(){var a=(new Date).getTime();L==m&&(L=a);a=Math.round(w.Ea().currentTime);t.Oa();k.za(a)},250);F=n}function B(){a.off("ended",B);K.limit--;e()}function C(a){if("fixedroll"===G&&(k.e().videoClicks.url||a))t.ha(),a=a?a:k.e().videoClicks.url,window.open(a,"_blank"),z(lb,n),w.na();else if("overlay"===G&&(k.e().nonLinearsVideoclicks.url||a))a=a?a:k.e().nonLinearsVideoclicks.url,window.open(a,"_blank")}function e(b){X.log(ma,G);z("END_AD");w.b(qb);w.b(rb);k.b(sb);k.b(tb);k.b(ub);
k.b(vb);a.b(Cb,f);a.b(Bb,g);x?x.stopAd():("overlay"==G||M?(X.log(na,G),c.R&&(c.overlayDuration=c.R,delete c.R),clearInterval(T),M=s,R=m,w.$a(),k.destroy(),k=w=r,$b&&z(lb,n)):"fixedroll"==G&&(clearInterval(A),F=s,L=m,w.destroy(),k.destroy(),k=w=r,u.destroy(),0<K.limit&&0<K.urls.length&&!b?j():z(mb)),t=r)}function z(a,b){v.c(a,b)}var v=new V,t,w,k,x,A,L,F=s,T,R,M=s,K,G,E=r,q,P=s,u=new tc(a);this.startAd=function(a){K=a;G=a.type;return K?("fixedroll"==G?(M===n&&e(),P=n,j()):"overlay"==G&&K.urls[0]&&
j(K.urls[0]),n):s};this.a=v.a;this.b=v.b;this.Ca=function(){try{X.log(ka,400),t.H(400),e()}catch(a){}};this.Q=function(){a.destroy();e(n)};this.u=function(){return M};this.pauseAd=function(){h({type:"PAUSEAD"})};this.resumeAd=function(){h({type:"RESUMEAD"})}};function uc(a){function c(a){X.log(qa,a.type);d.videoClicks=i.e().videoClicks;d.tracker=i.e().tracker;d.linear=i.e().linear;d.nonLinearsVideoclicks=i.e().nonLinearsVideoclicks;d.nonLinearsTracker=i.e().nonLinearsTracker;d.nonLinears=i.e().nonLinears;d.extensions=i.e().extensions;d.asString=i.e().asString;d.duration=i.e().duration;d.companion=i.e().companion;d.companionsAsString=i.e().companionsAsString;d.$=i.e().$;d.gotLinear=i.e().gotLinear;d.gotNonLinear=i.e().gotNonLinear;d.W=i.e().W;d.isCombi=
i.e().isCombi;d.extensions=i.e().extensions;switch(a.type){case wb:var c,a=document.createElement("video"),f=[],g;for(g in Vb)Vb[g].result=a.canPlayType(Vb[g].typeString),f.push(Vb[g].typeExtension+":"+Vb[g].result);X.log(901,f.join(", "));c=Vb;var l;p.X&&0<p.X.length&&(l=d.linear.filter(function(a){return-1!=a.nodeValue.lastIndexOf("."+p.X)}));a=d.linear.filter(function(a){return-1!=Wb.indexOf(a.attributes.type.toLowerCase())});g=d.linear.filter(function(a){for(var b in c)if((""==c[b].result||"probably"==
c[b].result)&&-1!=c[b].O.indexOf(a.attributes.type))return s;return n});d.linear=a&&a.length?a:l&&l.length?l:g&&g.length?g:[];d.linear.sort(function(a,b){return parseInt(a.attributes.bitrate,10)>parseInt(b.attributes.bitrate,10)?1:parseInt(a.attributes.bitrate,10)<parseInt(b.attributes.bitrate,10)?-1:0});if(0<d.linear.length)if(l=d.linear[0].nodeValue,g=ac?300:Yb?670:Zb?1100:0,e.index=0,0==g){X.log(ra,"max",d.linear[d.linear.length-1].attributes.bitrate);e.url=d.linear[d.linear.length-1].nodeValue;
e.type=d.linear[d.linear.length-1].attributes.type;e.index=d.linear.length-1;var j=e;l=d.linear[e.index];for(var A in l)j[A]=l[A]}else{for(A=0;A<d.linear.length&&parseInt(d.linear[A].attributes.bitrate,10)<=g;A++)l=d.linear[A].nodeValue,e.index=A;e.type=d.linear[e.index].attributes.type;e.url=l;A=e;l=d.linear[e.index];for(j in l)A[j]=l[j];"string"===typeof e.url&&(e.url=cc(e.url))}else e.url=r;d.gotLinear&&e.url==r||9<C?h.c(tb,Rb):h.c(sb,m);break;case yb:B=n;C++;b(d.$);break;case xb:h.c(tb,a.info);
break;case zb:j=gc(d);h.c(ub,j);break;case Ab:h.c(vb,d.extensions)}}function b(a){var b;window.XDomainRequest?(X.log(sa),b=new window.XDomainRequest):(X.log(ta),b=new XMLHttpRequest);l=b;a=cc(a);window.XDomainRequest?(l.onload=g,l.onerror=j,l.open("GET",a)):(l.open("GET",a,n),a=a.split("/"),a[2]&&-1<a[2].indexOf("doubleclick")&&(l.withCredentials=n),l.onreadystatechange=f);l.send()}function f(){4==l.readyState&&(200==l.status?g():j())}function g(){var a=l.responseText;B===s?i=new yc:B===n&&(B=s);
i.o();i.a(wb,c);i.a(xb,c);i.a(yb,c);i.a(zb,c);i.a(Ab,c);i.Ya(a)}function j(){h.c(tb,[Sb,String(l.status)])}var i,h=new V,l,d={videoClicks:{},tracker:[],linear:[],nonLinearsVideoclicks:{},nonLinearsTracker:[],nonLinears:[],extensions:{},companion:[],companionsAsString:r,asString:r,duration:r,gotLinear:s,gotNonLinear:s,isCombi:s},p=a,B=s,C=0,e={url:r,index:r,type:r};this.Ha=function(){return!!d.videoClicks.url};this.j=p;this.Za=m;this.totalTime=d.duration;this.ua=function(a){b(a)};this.T=function(){var a=
d.linear[e.index].attributes;return e.url&&a.width&&a.height&&a.scalable?a:s};this.V=function(){return d.nonLinears[0]};this.U=function(){return e};this.za=function(a){this.totalTime=d.duration;this.Za=d.duration-a;h.c(3040,m)};this.Va=function(a){this.nb=d=gc(a);h.c(sb,m)};this.destroy=function(){i!=r&&(i.b(xb),i.b(wb),i.b(yb),i.b(zb),i=r);h=r};this.a=h.a;this.b=h.b;this.e=function(){return d}};function vc(a,c){function b(){var b=a.g();k="display:block;position:absolute;overflow:hidden;text-align:center;font-family:Arial,sans,Verdana;opacity:1;";w="display:block;position:absolute;overflow:hidden;width:"+G+"px;height:"+G+"px;top:0px;left:"+b.width+"px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAALUlEQVQY02P4TyRgABMEAIpCbBpQ5JAV4GWjmwR3Ey6rSVJIlNUkeYZg8BADADDRv0FliZd9AAAAAElFTkSuQmCC) 50% 50% no-repeat;"}function f(b){var c=a.g("width"),d=a.g("height");
if(t.width===c&&t.height===d)return b;X.log(ua);b.q=parseInt(b.width,10);b.n=parseInt(b.height,10);b.ya=b.q/b.n;t.width=c;t.height=d;"true"===b.scalable&&"true"===b.maintainAspectRatio?b.q/c>=b.n/(d/5)?(b.q=c,b.n=b.q/b.ya):(b.n=d/5,b.q=b.n*b.ya):"true"===b.scalable&&"false"===b.maintainAspectRatio&&(b.n=d/5,b.q=c);b.width=Math.floor(b.q);b.height=Math.floor(b.n);return b}function g(b,c){var d=a.g();b.style.width=c.width+"px";b.style.height=c.height+"px";b.style.top=d.top+(d.height-c.height)+"px";
b.style.left=d.left+(d.width/2-c.width/2)+"px"}function j(){return Z("div",{id:"closeButton"+1E6*Math.random(),style:w})}function i(){x&&(K=a.h("duration"),M=a.h("currentTime"),1>=K&&(K=c.e().duration),x.update(M,K))}function h(){c.Ha()&&a.bb(function(){a.on("play",p);a.l();a.Y();c.j.clickThroughDialogEnabled?(F.show(),F.a("accept",d),F.a("reject",p)):d()})}function l(){X.log(va);v.c(qb,m)}function d(){X.log(va);x.hide();F.hide();F.b("accept",d);F.b("reject",p);a.setControls(n);v.c(qb,m)}function p(){x.show();
F.hide();F.b("accept",d);F.b("reject",p);a.off("play",p);a.C();a.setControls(s);h()}function B(){L.style.left=parseInt(A.style.width,10)-G+"px"}function C(){c.j.styles.closeButtonStyle&&O(L,c.j.styles.closeButtonStyle)}function e(){x.setViewport(a.g());F.setViewport(a.g());q&&q.setViewport(a.g())}var z=a.getParent(),v=new V,t={},w,k,x,A,L,F,T,R={},M,K,G=15,E,q,P=new oc(a.getParent());this.o=function(){X.log(404);b();x=new zc(z,c);x.setViewport(a.g());x.show();L=j();F=new Ac(z,c);F.setViewport(a.g());
C();h();a.a(Bb,e)};this.Ra=function(){E=Z("div",{id:"vpaidSlot"+1E6*Math.random(),style:"pointer-events:none;position:absolute;width:100%;height:100%;display:none"});z.appendChild(E);var b=a.g();["left","top","width","height"].forEach(function(a){E.style[a]=""+b[a]+"px"})};this.Sa=function(){X.log(405);t={width:0,height:0};b()};this.Na=function(){var a=f(T);T=a;g(A,a);B()};this.P=function(){c.a(3040,i)};this.cb=function(b){$b&&!c.j.customControls&&a.setControls(s);var d=f(b.attributes),e=Z("div",
{id:"overlay"+1E6*Math.random(),style:k}),h=r,i;i=a.g();T=d;g(e,d);if(b.StaticResource){var d=b.resourceAttributes.creativeType.toLowerCase(),p=b.attributes.apiFramework?b.attributes.apiFramework:"UNKNOWN";-1!=Wb.indexOf(d)&&"VPAID"==p.toUpperCase()?(E=Z("div",{id:"vpaidSlot"+1E6*Math.random(),style:"pointer-events:none;width:100%;height:100%"}),e.style.top=i.top+"px",e.style.left=i.left+"px",e.style.width=i.width+"px",e.style.height=i.height+"px",e.style.Db="none",e.style.display="none",e.appendChild(E)):
(-1!=Wb.indexOf(d)?h=Z("script",{src:b.StaticResource}):0<=d.search(/^image|jpeg|gif|png/i)&&(h=Z("img",{src:b.StaticResource,style:"width:100%;height:100%"})),h!=r&&e.appendChild(h))}else b.IFrameResource?(i=Z("div",{style:"position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0)"}),h=Z("iframe",{id:"nonLinearIFrame",src:b.IFrameResource,style:"width:100%;height:100%"}),e.appendChild(i),e.appendChild(h)):b.HTMLResource&&(h=Z("div",{style:"width:100%;height:100%"}),h.innerHTML=b.HTMLResource,
e.appendChild(h));A=e;L=j();C();B();A.appendChild(L);z.appendChild(A);A.firstChild.addEventListener("mousedown",l,s);L.onmousedown=function(){X.log(403);v.c(rb,m)}};this.$a=function(){$b&&!c.j.customControls&&a.setControls(n);try{z.removeChild(A)}catch(b){X.log(406)}};this.destroy=function(){a.b(Bb);c.b(3040);F&&F.destroy();x&&x.destroy();E&&z.removeChild(E);q&&q.destroy();v=r;a.Y()};this.qa=function(){return E};this.yb=function(){return a.g()};this.fb=function(){A?(A.removeChild(L),A.firstChild.removeEventListener("mousedown",
l,s),A.style.display="block"):(a.Y(),E.style.display="block")};this.Xa=function(b){var c=["left","top","width","height"],d=a.g();A&&(b?(Object.getOwnPropertyNames(R).length||c.forEach(function(a){R[a]=A.style[a]}),c.forEach(function(a){A.style[a]=""+d[a]+"px"})):c.forEach(function(a){A.style[a]=R[a]}))};this.ra=function(){a.getParent()};this.sa=function(){return P.sa()};this.Ea=function(){return{currentTime:M,duration:K}};this.na=function(){x&&x.hide()};this.Ia=function(){x&&x.show()};this.jb=function(){x&&
x.Ba()};this.a=v.a;this.b=v.b}
function Ac(a,c){function b(a){var b=window.getComputedStyle(h,r).getPropertyValue("height");h.style.top=0.5*(a.height-parseInt(b,10))+"px";h.style.left=0.5*(a.width-parseInt(h.style.width,10))+"px"}var f=c.j,g=new V,j={},i=f.clickThroughDialogText,f=f.styles,h;this.show=function(){h.style.display="block";b(j)};this.hide=function(){h.style.display="none"};this.destroy=function(){a.removeChild(h)};this.setViewport=function(a){j=a;b(j)};this.a=g.a;this.b=g.b;var l=Z("div",{id:"clickThroughDialogBox"+
1E6*Math.random(),style:"position:absolute;display:none"});l.innerHTML=i.query+"<br/>";var d=Z("button",{});d.innerHTML=i.reject;d.onmousedown=function(){g.c("reject")};l.appendChild(d);var p=Z("button",{});p.innerHTML=i.accept;p.onmousedown=function(){g.c("accept")};l.appendChild(p);O(l,f.colorScheme);O(l,f.fontStyle);O(l,f.dialogBox);O(d,f.colorScheme);O(d,f.fontStyle);O(d,f.buttonStyle);O(p,f.colorScheme);O(p,f.fontStyle);O(p,f.buttonStyle);a.appendChild(l);h=l}
function zc(a,c){function b(a){var b=parseInt(window.getComputedStyle(h,r).getPropertyValue("height"),10),c="top"===f.adCountdownPosition?0:a.top+a.height-b;h.style.width=a.width+"px";h.style.height=b+"px";h.style.top=c+"px";h.style.left=a.left+"px"}var f=c.j,g=new V,j={},i=f.styles,h;this.show=function(){""!==f.adCountdownText&&(h.style.display="block",b(j))};this.hide=function(){h.style.display="none"};this.update=function(a,b){var c;try{if(c!==(c=Math.floor(b-a))){var g=f.adCountdownText,g=g.replace(/\[time\]/i,
c);isNaN(c)||(h.innerHTML=g)}}catch(i){}};this.destroy=function(){a.removeChild(h)};this.setViewport=function(a){j=a;b(j)};this.Ba=function(){i=f.styles;O(h,i.colorScheme);O(h,i.fontStyle)};this.a=g.a;this.b=g.b;g=Z("div",{id:"adCountdown"+1E6*Math.random(),style:"position:absolute;overflow:hidden;pointer-events:none;display:none;"});g.innerHTML="Loading...";O(g,i.colorScheme);O(g,i.fontStyle);a.appendChild(g);h=g};function pc(a){function c(a,b){var c="";"string"==typeof a&&(a={urls:[a]});"string"==typeof a.urls&&(c=a.urls,a={urls:[c]});a.offset=b;return a}var b=s;this.ib=function(c){if(!b){for(var f=0;f<a.fixedrolls.length;f++){var d=a.fixedrolls[f];"string"==typeof d.offset&&(d.offset=c*(parseInt(d.offset,10)/100))}f=[];for(d=0;d<a.fixedrolls.length;d++){var g=a.fixedrolls[d];if(5<=g.interval)for(var i=g.offset+g.interval;i<c-5;){var j=gc(g);j.offset=i;f.push(j);i+=g.interval}}a.fixedrolls=a.fixedrolls.concat(f);
if(c<a.minDurationForMidrolls){for(f=0;f<a.fixedrolls.length;f++)d=a.fixedrolls[f],0<d.offset&&d.offset<c&&a.fixedrolls.splice(f,1);X.log(602)}if(a.overlay){f=[];for(d=0;d<a.fixedrolls.length;d++)g={urls:[a.overlay],offset:a.fixedrolls[d].offset+a.overlayDelay,limit:1,count:1,interval:-1,type:"overlay",p:s},g.offset<c&&f.push(g);for(d=0;d<f.length;d++)a.fixedrolls.push(f[d]);a.fixedrolls.some(function(a){return 0==a.offset})||a.fixedrolls.push({urls:[a.overlay],offset:a.overlayDelay,limit:1,count:1,
interval:-1,type:"overlay",p:s})}a.fixedrolls.sort(function(a,b){return a.offset>b.offset?1:a.offset<b.offset?-1:0});b=n}};this.K=function(b){a:{for(var c=0;c<a.fixedrolls.length;c++){var d=a.fixedrolls[c],f=b-d.offset;if(d.offset<=b&&2>=f&&!d.p){d.p=n;b=d;break a}}b=s}return b};this.reset=function(){for(var b=0;b<a.fixedrolls.length;b++)a.fixedrolls[b].p=s};this.Ta=function(){return a.fixedrolls[a.fixedrolls.length-1].p===n};this.Ma=function(b){return a.fixedrolls[a.fixedrolls.length-1].offset==
b&&a.fixedrolls[a.fixedrolls.length-1].p===s};a.fixedrolls||(a.fixedrolls=[]);a.preroll&&(a.preroll=c(a.preroll,0),a.fixedrolls.push(a.preroll));a.midroll&&(a.midroll=c(a.midroll,"50%"),a.fixedrolls.push(a.midroll));a.postroll&&(a.postroll=c(a.postroll,"100%"),a.fixedrolls.push(a.postroll));a.overlay&&gc(a.overlay);for(var f=0;f<a.fixedrolls.length;f++){var g=a.fixedrolls[f];if("string"==typeof g||0>parseInt(g.offset,10))X.log(601,g.offset);else{var j="";"string"==typeof g.urls&&(j=g.urls,g.urls=
[j]);if(g.count){j=g.urls[0];g.urls=[];for(var i=0;i<g.count;i++)g.urls.push(j.replace("[count]",i+1))}else g.count=1;"object"==typeof g&&("object"==typeof g.urls&&!g.limit)&&(g.limit=g.urls.length);g.interval||(g.interval=-1);g.p=s;g.type="fixedroll"}}for(f=0;f<a.fixedrolls.length;f++){g=a.fixedrolls[f];for(j=0;j<g.urls.length;j++);0==g.urls.length&&(a.fixedrolls.splice(f,1),f--)}};function wc(a,c,b,f){function g(a,b,d){if(a&&b&&c.onTrack&&bc(c.onTrack)){c.onTrack(a,b,d?d:"");var f="[object Array]"===Object.prototype.toString.call(d)?Number(d[0]):Number(d),d="1010 1020 1030 1040 1050 1060 1070 2030".split(" ").some(function(a){return a==f}),g=["100","101","300","303"].some(function(a){return a==f});if(d||g)c.onTrack("capped",b)}h.c("onTrack",a)}function j(b,c,d){"progress"!==c&&g(c,f,d);if(b)for(var i=0;i<b.length;i++)if("string"===typeof b[i]){var h=Z("img",{src:cc(b[i]),style:"display:none;",
onerror:"this.parentNode.removeChild(this);",onload:"this.parentNode.removeChild(this);"});a.fa(h)}else if(b[i].nodeValue&&"progress"===c){if(b[i].offset){var h=b[i].offset,j=B,l=-1!==h.indexOf("%"),x=parseInt(h,10),A=m;j&&l?("string"===typeof j?A=fc(j.split(".")[0]):isNaN(j)||(A=parseInt(j,10)),h=A&&!isNaN(x)?x/100*A:"IGNORE"):h=isNaN(h)?fc(h.split(".")[0]):h;if(h&&h>p)continue}g(c,f,d);h=Z("img",{src:cc(b[i].nodeValue),style:"display:none;",onerror:"this.parentNode.removeChild(this);",onload:"this.parentNode.removeChild(this);"});
a.fa(h)}}var i=b.e()["fixedroll"==f?"tracker":"nonLinearsTracker"],h=new V,l={},d=0,p=0,B;this.ja=function(){j(i.mute,"mute")};this.ka=function(){j(i.unmute,"unmute")};this.H=function(a){j(i.error,"error",a)};this.Ga=function(){j(i.close,"close")};this.ha=function(){j(i.clickTracking,"clickTracking")};this.ia=function(){X.log(701,"Impression, CreativeView");j(i.impression,"impression");j(i.creativeview,"creativeView")};this.i=function(a){j(i[a.toLowerCase()],a)};this.pb=function(a){a.split("|").forEach(function(a){j(i[a.toLowerCase()],
a)})};this.ob=function(a,b){var c=[];c.push(a);j(c,b)};this.Oa=function(){var b,e,g="fixedroll"==f?Math.round(a.h("currentTime")):m,h="fixedroll"==f?Math.round(a.h("duration")):parseInt(c.overlayDuration,10);p=g;B=h;"fixedroll"===f&&(d+0.3<p&&(d=p,j(i.timeupdate,"timeupdate")),j(i.progress,"progress"));if(!l.start&&g)e="Impression, CreativeView, Start",l.start=n,j(i.impression,"impression"),j(i.creativeview,"creativeView"),j(i.start,"start");else if(!l.Ja&&g>=h/4)l.Ja=n,b="firstQuartile";else if(!l.Wa&&
g>=h/2)l.Wa=n,b="midpoint";else if(!l.hb&&g>=h/(4/3))l.hb=n,b="thirdQuartile";else if(!l.done&&g>=h)l.done=n,b="complete";else return;b&&(e=b,j(i[b.toLowerCase()],b));X.log(701,e)};this.a=h.a;this.b=h.b};function yc(){function a(){for(var a in u)u[a]=s}function c(a,b){if(I(a))return a.getElementsByTagName(b)[0]}function b(a){if(!a||!a.childNodes[0])return s;for(var b=a.childNodes.length,c="",d="";b--;)if(4==a.childNodes[b].nodeType){d=a.childNodes[b].nodeValue.replace(/^\s+|\s+$/g,"");break}else 3==a.childNodes[b].nodeType&&(c=a.childNodes[b].nodeValue.replace(/^\s+|\s+$/g,""));return""!=d?d:""!=c?c:s}function f(a){for(var b={},c=0;c<a.attributes.length;c++)b[a.attributes[c].name]=a.attributes[c].value;
return b}function g(){if(I(u.A)){try{if(!(u.VAST=c(u.A,B)))throw Kb;if(!(u.Ad=u.VAST.getElementsByTagName(C)[0]))throw Lb;if(!(u.InLine=c(u.Ad,e))&&!(u.Wrapper=c(u.Ad,z)))throw Mb;if(u.InLine){i(u.InLine);if(!(u.Creatives=c(u.InLine,v)))throw Nb;if(!(u.Creative=u.Creatives.getElementsByTagName(t)[0]))throw Ob;if(!(u.Linear=c(u.Creative,w))&&!(u.NonLinearAds=c(u.Creative,k)))throw Pb;u.Linear&&(q.gotLinear=n);if(u.NonLinearAds)q.gotNonLinear=n;else for(var a=u.Creatives.getElementsByTagName(t),b=0;b<
a.length;b++)if(u.NonLinearAds=c(a[b],k),u.NonLinearAds){q.gotNonLinear=n;break}}else if(!(u.VASTAdTagURI=c(u.Wrapper,x)))throw Qb;}catch(d){return p.c(xb,d),s}return n}return s}function j(a,b){"[object Array]"===Object.prototype.toString.call(a[b])||(a[b]=[])}function i(a){a=a.getElementsByTagName(A);if(I(a)){j(q.tracker,E.aa);j(q.nonLinearsTracker,E.aa);for(var c=0;c<a.length;c++)b(a[c])&&(q.tracker.error.push(b(a[c])),q.nonLinearsTracker.error.push(b(a[c])))}}function h(a,c){if(I(a))for(var d=
a.getElementsByTagName(L),e=0;e<d.length;e++){var g=f(d[e]).event.toLowerCase();b(d[e])&&(j(q.tracker,g),"progress"===g?q.tracker[g].push({nodeValue:b(d[e]),offset:f(d[e]).offset}):q.tracker[g].push(b(d[e])))}if(I(c)){d=c.getElementsByTagName(L);for(e=0;e<d.length;e++)g=f(d[e]).event.toLowerCase(),b(d[e])&&(j(q.nonLinearsTracker,g),q.nonLinearsTracker[g].push(b(d[e])))}}function l(a){a=a.getElementsByTagName(F);if(I(a)){j(q.tracker,E.ba);j(q.nonLinearsTracker,E.ba);for(var c=0;c<a.length;c++)b(a[c])&&
(q.tracker.impression.push(b(a[c])),q.nonLinearsTracker.impression.push(b(a[c])))}}function d(a){if(I(a)){var d=c(a,T);I(d)&&(q.videoClicks.url=b(d));d=c(a,R);I(d)&&(q.nonLinearsVideoclicks.url=b(d));a=a.getElementsByTagName(M);if(I(a)){j(q.tracker,E.Da);for(d=0;d<a.length;d++)b(a[d])&&q.tracker.clickTracking.push(b(a[d]))}}}var p,B="VAST",C="Ad",e="InLine",z="Wrapper",v="Creatives",t="Creative",w="Linear",k="NonLinearAds",x="VASTAdTagURI",A="Error",L="Tracking",F="Impression",T="ClickThrough",R=
"NonLinearClickThrough",M="ClickTracking",K=Vb.mp4.O,G=Wb,E={aa:"error",ba:"impression",Da:"clickTracking"},q={videoClicks:{},tracker:{},linear:[],nonLinearsVideoclicks:{},nonLinearsTracker:{},nonLinears:[],extensions:[],companion:[],companionsAsString:r,asString:r,duration:r,gotLinear:s,gotNonLinear:s,W:s,isCombi:s},P=r,u={A:s,VAST:s,Ad:s,InLine:s,Wrapper:s,Creatives:s,Creative:s,Linear:s,NonLinearAds:s,VASTAdTagURI:s};this.e=function(){return q};this.o=function(){p=new V};this.Ya=function(e){var k;
a:{try{window.DOMParser?u.A=(new DOMParser).parseFromString(e,"application/xml"):(k=new ActiveXObject("Microsoft.XMLDOM"),k.async=s,k.loadXML(e),u.A=k)}catch(t){k=s;break a}k=n}k||(u.A=s);P=e.toString();if(g()===n)if(q.asString=P,u.Wrapper&&u.VASTAdTagURI)l(u.Wrapper),i(u.Wrapper),d(c(u.Linear,"VideoClicks")),d(c(u.NonLinearAds,"NonLinear")),h(u.Linear,u.NonLinearAds),q.$=b(u.VASTAdTagURI),a(),p.c(yb,m);else{l(u.InLine);d(c(u.Linear,"VideoClicks"));d(c(u.NonLinearAds,"NonLinear"));h(u.Linear,u.NonLinearAds);
e=c(u.NonLinearAds,"NonLinear");if(I(e)){j(q,"nonLinears");k=c(e,"StaticResource");var y=c(e,"IFrameResource"),v=c(e,"HTMLResource");I(k)&&-1=="application/x-shockwave-flash".indexOf(f(k).creativeType)&&q.nonLinears.push({StaticResource:b(k),resourceAttributes:f(k),attributes:f(k.parentNode),adParameters:b(c(e,"AdParameters"))});I(y)&&q.nonLinears.push({IFrameResource:b(y),resourceAttributes:f(y),attributes:f(y.parentNode),adParameters:b(c(e,"AdParameters"))});I(v)&&q.nonLinears.push({HTMLResource:b(v),
resourceAttributes:f(v),attributes:f(v.parentNode),adParameters:b(c(e,"AdParameters"))})}q.nonLinears.length||(q.gotNonLinear=s);e=c(u.Linear,"MediaFiles");if(I(e)&&(e=e.getElementsByTagName("MediaFile"),q.linear=[],I(e)))for(k=0;k<e.length;k++)b(e[k])&&(-1!=f(e[k]).type.indexOf("video/webm")||-1!=K.indexOf(f(e[k]).type)||-1!=f(e[k]).type.indexOf("video/ogg")||-1!=G.indexOf(f(e[k]).type))&&q.linear.push({nodeValue:b(e[k]),attributes:f(e[k]),adParameters:b(c(u.Linear,"AdParameters"))});e=c(u.Creatives,
"CompanionAds");if(I(e)){e=e.getElementsByTagName("Companion");q.companion=[];for(k=0;k<e.length;k++){var y=e[k],v=b(c(y,"Tracking")),x=b(c(y,"CompanionClickThrough")),z=c(y,"StaticResource"),A=c(y,"IFrameResource"),B=c(y,"HTMLResource");I(z)&&q.companion.push({StaticResource:b(z),resourceAttributes:f(z),attributes:f(z.parentNode),adParameters:b(c(y,"AdParameters")),ma:v,la:x});I(A)&&q.companion.push({IFrameResource:b(A),resourceAttributes:f(A),attributes:f(A.parentNode),adParameters:b(c(y,"AdParameters")),
ma:v,la:x});I(B)&&q.companion.push({HTMLResource:b(B),resourceAttributes:f(B),attributes:f(B.parentNode),adParameters:b(c(y,"AdParameters")),ma:v,la:x})}}e=q.asString.indexOf("<CompanionAds>");k=q.asString.indexOf("</CompanionAds>");var w;-1!=e&&-1!=k&&(w=q.asString.substr(e,k-e+15));I(w)&&(q.companionsAsString=w);if(w=c(u.Ad,"Extensions"))if(w=w.getElementsByTagName("Extension"),I(w))for(e=0;e<w.length;e++)q.extensions.push(w[e]);b(c(u.Linear,"Duration"))&&(q.duration=fc(b(c(u.Linear,"Duration"))));
q.isCombi=q.gotLinear===n&&q.gotNonLinear===n;q.isCombi&&p.c(zb,m);0<q.extensions.length&&(q.W=n,p.c(Ab,m));if(w=q.gotLinear===n){w=r;for(var C in q.tracker)w=C;w=!(0==q.linear.length?0:q.linear[0].attributes.width!=r&&q.linear[0].attributes.height!=r&&w!=r&&0!=q.duration)}w&&(a(),p.c(xb,2010));!q.gotLinear&&!q.gotNonLinear&&p.c(xb,2010);q.asString=P;a();p.c(wb,m)}};this.a=function(a,b){p.a(a,b)};this.b=function(a){p.b(a)}};function xc(){var a;function c(){W=Z("iframe",{style:"width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden"});W.onload=b;S.insertBefore(W,S.firstChild)}function b(){W.S=(W.contentDocument||W.contentWindow.document).getElementsByTagName("body")[0];W.qb=W.S.parentNode.parentNode;var a=Z("script",{type:"text/javascript"});a.innerHTML="var inDapIF = true;";W.S.appendChild(a);a=Z("script",{src:cc(Va)});a.onload=function(){if(H||ac)Y.c(Db,m);else{var a=W.contentWindow.getVPAIDAd;
bc(a)&&(y=a());a:{for(var a="handshakeVersion initAd startAd stopAd skipAd resizeAd pauseAd resumeAd expandAd collapseAd subscribe unsubscribe".split(" "),b=0;b<a.length;b++)if(!bc(y[a[b]])){a=s;break a}a=n}if(a){X.log(La,y.handshakeVersion(hb));-1===Bc.indexOf(y.handshakeVersion(hb))&&Y.c(Db,m);var a={AdParameters:Wa},b={slot:ba,videoSlot:N.La(),videoSlotCanAutoPlay:n},c={AdStarted:f,AdStopped:g,AdSkipped:j,AdLoaded:i,AdLinearChange:h,AdSizeChange:l,AdExpandedChange:d,AdSkippableStateChange:p,AdDurationChange:B,
AdRemainingTimeChange:C,AdVolumeChange:e,AdImpression:z,AdClickThru:v,AdInteraction:t,AdVideoStart:w,AdVideoFirstQuartile:k,AdVideoMidpoint:x,AdVideoThirdQuartile:A,AdVideoComplete:L,AdUserAcceptInvitation:F,AdUserMinimize:T,AdUserClose:R,AdPaused:M,AdPlaying:K,AdError:G,AdLog:E},q;for(q in c)y.subscribe(c[q],q,Ga);ha=new Cc;ha.Z("initad",function(){window.console.log("initad - onadloaded : failed, aderror should be dispatched");Y.c(Db,m)});q=function(a){if(!a)return s;a=a.style.width;return!!parseInt(a,
10)&&-1===a.indexOf("%")};var u,pa;q(ba)?(u=parseInt(ba.style.width,10),pa=parseInt(ba.style.height,10)):q(S)?(u=parseInt(S.style.width,10),pa=parseInt(S.style.height,10)):q(S.parentNode)&&(u=parseInt(S.parentNode.style.width,10),pa=parseInt(S.parentNode.style.height,10));c=Q.L();q(c)?(u=parseInt(c.style.width,10),pa=parseInt(c.style.height,10)):q(c.parentNode)&&(u=parseInt(c.parentNode.style.width,10),pa=parseInt(c.parentNode.style.height,10));Ga.initAd(u,pa,Dc,Ec,a,b)}else X.log(Ma)}};a.onerror=
function(){Y.c(Db,m)};W.S.appendChild(a);Ha=Z("div",{id:"videoSlotBackground",style:"position:absolute;width:100%;height:100%;top:0;left:0; background:rgba(0,0,0,1); display:none"});S.appendChild(Ha);Ha=document.getElementById("videoSlotBackground");oa=Z("video",{id:"videoSlot",style:"position:absolute;width:100%;height:100%;top:0;left:0;display:none"});S.appendChild(oa);oa=document.getElementById("videoSlot");ba=Z("div",{id:"vpaidSlot",style:"position:absolute;width:100%;height:100%;top:0;left:0;overflow:hidden;"});
S.appendChild(ba);ba=document.getElementById("vpaidSlot");N=new Fc(oa,Xa,Ha,Q,Ia.j.vpaidSingleVideoSlotMode)}function f(){X.log(Ra);J.i("creativeView");y.getAdLinear()&&(Q.l(),N.show(),oa.volume=Q.h("volume"),a=oa.volume);Ya=new Gc(q)}function g(){if(y){var a={AdStarted:f,AdStopped:g,AdSkipped:j,AdLoaded:i,AdLinearChange:h,AdSizeChange:l,AdExpandedChange:d,AdSkippableStateChange:p,AdDurationChange:B,AdRemainingTimeChange:C,AdVolumeChange:e,AdImpression:z,AdClickThru:v,AdInteraction:t,AdVideoStart:w,
AdVideoFirstQuartile:k,AdVideoMidpoint:x,AdVideoThirdQuartile:A,AdVideoComplete:L,AdUserAcceptInvitation:F,AdUserMinimize:T,AdUserClose:R,AdPaused:M,AdPlaying:K,AdError:G,AdLog:E},b;for(b in a)y.unsubscribe(a[b],b)}X.log(Qa);N.hide();Ya&&Ya.destroy();"nonLinear"===Ja&&Q.h("paused")&&Q.C();Y.c(Hb,m)}function j(){X.log(Pa);J.i("skip");Ga.stopAd()}function i(){X.log(Oa);Ga.startAd();ha.log("onadloaded");Ka.fb()}function h(){X.log(xa,y.getAdLinear());y.getAdLinear()?(Q.l(),N.show()):(N.hide(),Q.C())}
function l(){X.log(ya,y.getAdWidth(),y.getAdHeight())}function d(){X.log(za,y.getAdExpanded());Ka.Xa(y.getAdExpanded());y.getAdExpanded()?(Q.l(),J.i("expand")):(Q.C(),J.i("collapse"))}function p(){X.log(Aa,y.getAdSkippableState())}function B(){X.log(Ba,y.getAdDuration());P()}function C(){X.log(Ca,y.getAdRemainingTime());P()}function e(){X.log(Da,y.getAdVolume());0<y.getAdVolume()&&0===a?(J.ka(),a=y.getAdVolume()):0===y.getAdVolume()&&0<a&&(a=0,J.ja())}function z(){X.log(Na);J.ia()}function v(a,b,
c){X.log(Sa,a,b,c);c||!c&&!a?(ib="[object String]"===Object.prototype.toString.call(a)?a:m,ba.addEventListener("mousedown",ga,s),N.on("play",ga),N.pause(),Ia.j.clickThroughDialogEnabled&&U?(U.show(),U.a("accept",u),U.a("reject",ga)):u()):J.ha()}function t(a){X.log(Ta,a);J.i("interaction")}function w(){X.log(Ua);J.i("start")}function k(){X.log(Za);J.i("firstQuartile")}function x(){X.log($a);J.i("midpoint")}function A(){X.log(ab);J.i("thirdQuartile")}function L(){X.log(bb);J.i("complete")}function F(){X.log(cb);
J.i("acceptInvitation")}function T(){X.log(db);J.i("collapse")}function R(){X.log(fb);J.i("close");Y.c(Gb,m)}function M(){X.log(eb);ha.log("onadpaused");J.i("pause")}function K(){X.log(gb);ha.log("onadplaying");J.i("resume")}function G(a){X.log(Ea,a);Y.c(Db,a)}function E(a){X.log(Fa,a)}function q(){P()}function P(){ea&&ea.update(y.getAdDuration()-y.getAdRemainingTime(),y.getAdDuration())}function u(){X.log(va);ea&&ea.hide();U&&(U.hide(),U.b("accept",u),U.b("reject",ga));N&&N.setControls(n);Y.c(Ib,
ib)}function ga(){ea&&ea.show();U&&(U.hide(),U.b("accept",u),U.b("reject",ga));N&&(N.off("play",ga),N.play());ba.removeEventListener("mousedown",ga,s)}var Y=new V,ha;a=m;var y,W,Va,Wa,ba,S,oa,N,Ha,Xa,Ka,Q,J,Ja,ea,U,Ia,ib,Ya,Ga=this,Bc="1.1,2.0",hb="2.0",Dc="normal",Ec=300;this.o=function(a,b,d,e,f){Va=a.StaticResource;Wa=a.adParameters;Ka=b;Q=d;J=e;S=b.qa();Xa=Q.L();Ia=f;b.ra();c();Ja="nonLinear"};this.Qa=function(a,b,d,e,f){window.console.log("VB model.vpaidSingleVideoSlotMode:",f.j.vpaidSingleVideoSlotMode);
Va=a.nodeValue;Wa=a.adParameters;Ka=b;Q=d;J=e;S=b.qa();Xa=Q.L();Ia=f;b.ra();c();Ja="linear"};this.initAd=function(a,b,c,d,e,f){window.console.log("[VPAID Bridge] Ad initialized.",a,b,c,d,e,f);y.initAd(a,b,c,d,e,f)};this.startAd=function(){window.console.log("[VPAID Bridge] startAd.");y.startAd()};this.pauseAd=function(){window.console.log("[VPAID Bridge] pauseAd.");ha.Z("initad",function(){window.console.log("pausead - onpaused : failed")});y.pauseAd()};this.resumeAd=function(){window.console.log("[VPAID Bridge] resumeAd.");
ha.Z("resumead",function(){window.console.log("resumead - onadplaying : failed")});y.resumeAd()};this.stopAd=function(){window.console.log("[VPAID Bridge] stopAd.");y&&y.stopAd()};this.setAdVolume=function(a){window.console.log("[VPAID Bridge] setAdVolume.");y.setAdVolume(a)};this.resizeAd=function(a,b,c){window.console.log("[VPAID Bridge] resizeAd.",a,b,c);N&&"linear"===Ja?(a=N.g(),y.resizeAd(a.width,a.height,c)):y.resizeAd(a,b,c)};this.expandAd=function(){window.console.log("[VPAID Bridge] expandAd.");
y.expandAd()};this.collapseAd=function(){window.console.log("[VPAID Bridge] collapseAd.");y.collapseAd()};this.gb=function(){window.console.log("[VPAID Bridge] skipAd.");y.getAdSkippableState()&&y.gb()};this.jb=function(){ea&&ea.Ba()};this.P=function(){window.console.log("vpaidbridge.updatecountdown");N.P(P)};this.a=Y.a;this.b=Y.b}
function Cc(){var a=[{s:s,event:"INITAD",J:"ONADLOADED",timeout:4E3,D:r,v:r,w:r},{s:s,event:"RESIZEAD",J:"ONADSIZECHANGED",timeout:1E3,D:r,v:r,w:r},{s:s,event:"PAUSEAD",J:"ONADPAUSED",timeout:100,D:r,v:r,w:r},{s:s,event:"RESUMEAD",J:"ONADPLAYING",timeout:100,D:r,v:r,w:r}],c=[];this.log=function(a){c.push({time:(new Date).getTime(),event:a.toUpperCase()})};this.Z=function(b,f){var g=(new Date).getTime();a.forEach(function(j){j.event===b.toUpperCase()&&(j.s=n,j.v=g,j.w=f,j.D=window.setTimeout(function(){a.forEach(function(a){a.event===
b.toUpperCase()&&a.s&&(a.s=s,window.clearTimeout(a.D),c.map(function(b){if(b.time>=a.v&&b.time<=a.v+a.timeout)return b}).some(function(b){return b.event===a.J?n:s})||a.w())})},j.timeout))});c.push({time:g,event:b.toUpperCase()})}}
function Fc(a,c,b,f,g){var j=new V,i,h;this.g=function(a){if(g)return f.g(a);if(a)switch(a){case "width":return hc(h,"Width");case "height":return hc(h,"Height");case "top":return h.offsetTop;case "left":return h.offsetLeft;default:return r}return{width:hc(h,"Width"),height:hc(h,"Height"),top:h.offsetTop,left:h.offsetLeft}};this.show=function(){g||(h.style.display="block",b.style.display="block",c.style.visibility="hidden")};this.hide=function(){g||(c.style.visibility="visible",h.style.display="none",
b.style.display="none")};this.P=function(){};this.pause=function(){h.pause()};this.play=function(){h.play()};this.setControls=function(a){h.controls=a};this.on=function(a,b){i.on(h,a,b)};this.off=function(a,b){i.off(h,a,b)};this.a=j.a;this.b=j.b;this.La=function(){return h};i=new dc;g?(h=c,h.style.cssText+=";left:0;top:0;",b.parentNode.removeChild(b),a.parentNode.removeChild(a)):h=a}
function Gc(a){function c(){}function b(){g=setInterval(function(){i+=j;h()},j)}function f(){i=0;clearInterval(g)}var g,j=1E3,i=0,h;this.wb=function(){return i};this.Hb=function(a){"function"===typeof a&&(f(),h=a,b())};this.setInterval=function(a){a&&(j=a);f();b()};this.destroy=function(){f();h=c};this.start=function(){f();b()};h="function"===typeof a?a:c;b()};})();
