function X2JS(d){function r(b){var c=b.localName;null==c&&(c=b.baseName);if(null==c||""==c)c=b.nodeName;return c}function p(b){return"string"==typeof b?b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):b}function s(b,c,a){switch(d.arrayAccessForm){case "property":b[c+"_asArray"]=b[c]instanceof Array?b[c]:[b[c]]}if(!(b[c]instanceof Array)&&0<d.arrayAccessFormPaths.length){for(var e=0;e<d.arrayAccessFormPaths.length;e++){var g=d.arrayAccessFormPaths[e];
if("string"===typeof g){if(g==a)break}else if(g instanceof RegExp){if(g.test(a))break}else if("function"===typeof g&&g(b,c,a))break}e!=d.arrayAccessFormPaths.length&&(b[c]=[b[c]])}}function t(b){var c=b.split(/[-T:+Z]/g),a=new Date(c[0],c[1]-1,c[2]),e=c[5].split(".");a.setHours(c[3],c[4],e[0]);1<e.length&&a.setMilliseconds(e[1]);c[6]&&c[7]?(c=60*c[6]+Number(c[7]),c=0+("-"==(/\d\d-\d\d:\d\d$/.test(b)?"-":"+")?-1*c:c),a.setMinutes(a.getMinutes()-c-a.getTimezoneOffset())):-1!==b.indexOf("Z",b.length-
1)&&(a=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())));return a}function y(b,c,a){if(0<d.datetimeAccessFormPaths.length){a=a.split(".#")[0];for(var e=0;e<d.datetimeAccessFormPaths.length;e++){var g=d.datetimeAccessFormPaths[e];if("string"===typeof g){if(g==a)break}else if(g instanceof RegExp){if(g.test(a))break}else if("function"===typeof g&&g(obj,c,a))break}return e!=d.datetimeAccessFormPaths.length?t(b):b}return b}function m(b,
c){if(b.nodeType==l.DOCUMENT_NODE){for(var a={},e=b.childNodes,g=0;g<e.length;g++){var h=e.item(g);if(h.nodeType==l.ELEMENT_NODE){var f=r(h);a[f]=m(h,f)}}return a}if(b.nodeType==l.ELEMENT_NODE){a={__cnt:0};e=b.childNodes;for(g=0;g<e.length;g++)h=e.item(g),f=r(h),h.nodeType!=l.COMMENT_NODE&&(a.__cnt++,null==a[f]?(a[f]=m(h,c+"."+f),s(a,f,c+"."+f)):(null==a[f]||a[f]instanceof Array||(a[f]=[a[f]],s(a,f,c+"."+f)),a[f][a[f].length]=m(h,c+"."+f)));for(e=0;e<b.attributes.length;e++)g=b.attributes.item(e),
a.__cnt++,a[d.attributePrefix+g.name]=g.value;e=b.prefix;null!=e&&""!=e&&(a.__cnt++,a.__prefix=e);null!=a["#text"]&&(a.__text=a["#text"],a.__text instanceof Array&&(a.__text=a.__text.join("\n")),d.stripWhitespaces&&(a.__text=a.__text.trim()),delete a["#text"],"property"==d.arrayAccessForm&&delete a["#text_asArray"],a.__text=y(a.__text,f,c+"."+f));null!=a["#cdata-section"]&&(a.__cdata=a["#cdata-section"],delete a["#cdata-section"],"property"==d.arrayAccessForm&&delete a["#cdata-section_asArray"]);
1==a.__cnt&&null!=a.__text?a=a.__text:0==a.__cnt&&"text"==d.emptyNodeForm?a="":1<a.__cnt&&null!=a.__text&&d.skipEmptyTextNodesForObj&&(d.stripWhitespaces&&""==a.__text||""==a.__text.trim())&&delete a.__text;delete a.__cnt;!d.enableToStringFunc||null==a.__text&&null==a.__cdata||(a.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")});return a}if(b.nodeType==l.TEXT_NODE||b.nodeType==l.CDATA_SECTION_NODE)return b.nodeValue}function k(b,c,a,e){c="<"+(null!=
b&&null!=b.__prefix?b.__prefix+":":"")+c;if(null!=a)for(var g=0;g<a.length;g++){var h=a[g],f=b[h];d.escapeMode&&(f=p(f));c+=" "+h.substr(d.attributePrefix.length)+"=";c=d.useDoubleQuotes?c+('"'+f+'"'):c+("'"+f+"'")}return e?c+"/>":c+">"}function n(b,c){return"</"+(null!=b.__prefix?b.__prefix+":":"")+c+">"}function u(b,c){var a;if(a="property"==d.arrayAccessForm)a=c.toString(),a=-1!==a.indexOf("_asArray",a.length-8);return a||0==c.toString().indexOf(d.attributePrefix)||0==c.toString().indexOf("__")||
b[c]instanceof Function?!0:!1}function v(b){var c=0;if(b instanceof Object)for(var a in b)u(b,a)||c++;return c}function w(b){var c=[];if(b instanceof Object)for(var a in b)-1==a.toString().indexOf("__")&&0==a.toString().indexOf(d.attributePrefix)&&c.push(a);return c}function x(b){var c="";if(b instanceof Object){var a="";null!=b.__cdata&&(a+="<![CDATA["+b.__cdata+"]]\x3e");null!=b.__text&&(a=d.escapeMode?a+p(b.__text):a+b.__text);c+=a}else null!=b&&(c=d.escapeMode?c+p(b):c+b);return c}function q(b){var c=
"";if(0<v(b))for(var a in b)if(!u(b,a)){var e=b[a],d=w(e);if(null==e||void 0==e)c+=k(e,a,d,!0);else if(e instanceof Object)if(e instanceof Array){var h=a,f="";if(0==e.length)f+=k(e,h,d,!0);else for(d=0;d<e.length;d++)f+=k(e[d],h,w(e[d]),!1),f+=q(e[d]),f+=n(e[d],h);c+=f}else e instanceof Date?(c+=k(e,a,d,!1),c+=e.toISOString(),c+=n(e,a)):0<v(e)||null!=e.__text||null!=e.__cdata?(c+=k(e,a,d,!1),c+=q(e),c+=n(e,a)):c+=k(e,a,d,!0);else c+=k(e,a,d,!1),c+=x(e),c+=n(e,a)}return c+=x(b)}d=d||{};void 0===d.escapeMode&&
(d.escapeMode=!0);d.attributePrefix=d.attributePrefix||"_";d.arrayAccessForm=d.arrayAccessForm||"none";d.emptyNodeForm=d.emptyNodeForm||"text";void 0===d.enableToStringFunc&&(d.enableToStringFunc=!0);d.arrayAccessFormPaths=d.arrayAccessFormPaths||[];void 0===d.skipEmptyTextNodesForObj&&(d.skipEmptyTextNodesForObj=!0);void 0===d.stripWhitespaces&&(d.stripWhitespaces=!0);d.datetimeAccessFormPaths=d.datetimeAccessFormPaths||[];void 0===d.useDoubleQuotes&&(d.useDoubleQuotes=!1);(function(){function b(b){b=
String(b);1===b.length&&(b="0"+b);return b}"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")});"function"!==typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"})})();var l=
{ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(b){var c=window.ActiveXObject||"ActiveXObject"in window;if(void 0===b)return null;var a;if(window.DOMParser){var d=new window.DOMParser,g=null;if(!c)try{g=d.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(h){g=null}try{a=d.parseFromString(b,"text/xml"),null!=g&&0<a.getElementsByTagNameNS(g,"parsererror").length&&(a=null)}catch(f){a=null}}else 0==b.indexOf("<?")&&(b=
b.substr(b.indexOf("?>")+2)),a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(b);return a};this.asArray=function(b){return void 0===b||null==b?[]:b instanceof Array?b:[b]};this.toXmlDateTime=function(b){return b instanceof Date?b.toISOString():"number"===typeof b?(new Date(b)).toISOString():null};this.asDateTime=function(b){return"string"==typeof b?t(b):b};this.xml2json=function(b){return m(b)};this.xml_str2json=function(b){b=this.parseXmlString(b);return null!=b?this.xml2json(b):
null};this.json2xml_str=function(b){return q(b)};this.json2xml=function(b){b=this.json2xml_str(b);return this.parseXmlString(b)};this.getVersion=function(){return"1.1.7"}};
